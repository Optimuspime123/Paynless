<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Glassmorphic Card Demo</title>
  <link rel="stylesheet" href="https://unpkg.com/normalize.css">
  <style>
    :root {
      --font-size-min: 16;
      --font-size-max: 20;
      --font-ratio-min: 1.2;
      --font-ratio-max: 1.33;
      --font-width-min: 375;
      --font-width-max: 1500;
    }

    html {
      color-scheme: light dark;
    }

    [data-theme='light'] {
      color-scheme: light only;
    }

    [data-theme='dark'] {
      color-scheme: dark only;
    }

    *,
    *:after,
    *:before {
      box-sizing: border-box;
    }

    body {
      background: light-dark(#fff, #000);
      display: grid;
      place-items: center;
      min-height: 100vh;
      font-family: 'SF Pro Text', 'SF Pro Icons', 'AOS Icons', 'Helvetica Neue',
        Helvetica, Arial, sans-serif, system-ui;
      margin: 0;
      padding: 0;
      align-content: center;
      gap: 2rem;
    }

    .attribution {
      position: fixed;
      top: 1rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.75rem;
      opacity: 0.5;
      z-index: 10;
    }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      background: light-dark(hsl(0 0% 90%), hsl(0 0% 20%));
      border: 2px solid light-dark(hsl(0 0% 80%), hsl(0 0% 30%));
      border-radius: 20px;
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-size: 0.875rem;
      transition: all 0.2s ease;
      z-index: 10;
    }

    .theme-toggle:hover {
      background: light-dark(hsl(0 0% 85%), hsl(0 0% 25%));
    }

    body::before {
      --size: 45px;
      --line: color-mix(in hsl, canvasText, transparent 80%);
      content: '';
      height: 100vh;
      width: 100vw;
      position: fixed;
      background: linear-gradient(90deg,
          var(--line) 1px,
          transparent 1px var(--size)) calc(var(--size) * 0.36) 50% / var(--size) var(--size),
        linear-gradient(var(--line) 1px, transparent 1px var(--size)) 0% calc(var(--size) * 0.32) / var(--size) var(--size);
      mask: linear-gradient(-20deg, transparent 50%, white);
      top: 0;
      transform-style: flat;
      pointer-events: none;
      z-index: -1;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    [data-exclude='true'] .img-container {
      opacity: calc(var(--icon-opacity, 0.25) * 0.25);
      transition: opacity 0.26s ease-out;
    }

    [data-exclude='true'] article:is(:hover, :focus-within) .img-container {
      opacity: var(--icon-opacity, 0.25);
    }

    article {
      -webkit-tap-highlight-color: #0000;
      width: 300px;
      aspect-ratio: 4 / 3;
      outline: 2px solid light-dark(hsl(0 0% 90%), hsl(0 0% 20%));
      background: light-dark(hsl(0 0% 98%), hsl(0 0% 10%));
      position: relative;
      border-radius: 12px;
      container-type: size;
      cursor: pointer;
      transition-property: translate, scale;
      transition-duration: 0.12s;
      transition-timing-function: cubic-bezier(.645, .045, .355, 1);
      box-shadow:
        calc(var(--pointer-x, 0) * 5px) calc(var(--pointer-y, 0) * 5px) 30px rgba(255, 255, 255, 0.1);
    }

    article>div {
      clip-path: inset(0 round 12px);
      overflow: hidden;
      align-content: center;
      display: grid;
      place-items: center;
      gap: 0.5rem;
      position: absolute;
      inset: 0;
      border-radius: 12px;
      overflow: hidden;
    }

    article:active {
      translate: 0 1px;
      scale: 0.99;
    }

    article button {
      -webkit-tap-highlight-color: #0000;
      position: absolute;
      top: .5rem;
      right: .5rem;
      border-radius: 8px;
      border: 0;
      z-index: 2;
      display: grid;
      place-items: center;
      padding: 0;
      width: 32px;
      aspect-ratio: 1;
      background: #0000;
      cursor: pointer;
      opacity: .3;
    }

    article button::before {
      content: '';
      position: absolute;
      inset: 0;
      background: light-dark(hsl(0 0% 0% / 0.08), hsl(0 0% 100% / 0.1));
      z-index: -1;
      border-radius: inherit;
      opacity: 0;
    }

    article button:is(:hover, :focus-visible) {
      opacity: 1;
    }

    article button:is(:hover, :focus-visible)::before {
      opacity: 1;
    }

    article button svg {
      width: 20px;
    }

    article button svg path {
      fill: currentColor;
    }

    article::after {
      content: '';
      position: absolute;
      pointer-events: none;
      inset: 0px;
      border-radius: inherit;
      border: calc(var(--border-width) * 1px) solid #0000;
      backdrop-filter: blur(calc(var(--border-blur) * 1px)) saturate(var(--border-saturate)) brightness(var(--border-brightness)) contrast(var(--border-contrast));
      mask: linear-gradient(#fff 0 100%) border-box, linear-gradient(#fff 0 100%) padding-box;
      mask-composite: exclude;
      z-index: 2;
      clip-path: inset(0 round 12px);
      transform: translateZ(0);
    }

    article img {
      width: 100px;
      user-select: none;
    }

    article img:nth-of-type(1) {
      z-index: 2;
      position: relative;
    }

    article .img-container {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      transform: translateZ(0);
      filter: url(#blur) saturate(var(--icon-saturate)) brightness(var(--icon-brightness));
      translate: calc(var(--pointer-x, -10) * 50cqi) calc(var(--pointer-y, -10) * 50cqh);
      scale: var(--icon-scale);
      opacity: var(--icon-opacity);
      will-change: transform, filter;
    }

    article h2 {
      z-index: 4;
      position: relative;
      font-size: 1rem;
      margin: 0;
      user-select: none;
    }

    main {
      touch-action: none;
      padding-block: 4rem;
      width: 800px;
      max-width: calc(100vw - 2rem);
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      justify-content: center;
    }
  </style>
</head>

<body>
  <div class="attribution">sexy demo made by optimus</div>
  <button class="theme-toggle" id="themeToggle">Toggle Theme</button>
  <main>
    <article>
      <div>
        <button aria-label="More options">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <title>dots-horizontal</title>
            <path
              d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
          </svg>
        </button>
        <div class="img-container">
          <img src="https://assets.codepen.io/605876/beeper.png" alt="" />
        </div>
        <img src="https://assets.codepen.io/605876/beeper.png" alt="" />
        <h2>Beeper</h2>
      </div>
    </article>
    <article>
      <div>
        <button aria-label="More options">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <title>dots-horizontal</title>
            <path
              d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
          </svg>
        </button>
        <div class="img-container">
          <img src="https://assets.codepen.io/605876/discord.png" alt="" />
        </div>
        <img src="https://assets.codepen.io/605876/discord.png" alt="" />
        <h2>Discord Nitro</h2>
      </div>
    </article>
    <article>
      <div>
        <button aria-label="More options">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <title>dots-horizontal</title>
            <path
              d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
          </svg>
        </button>
        <div class="img-container">
          <img src="https://assets.codepen.io/605876/spotify.png" alt="" />
        </div>
        <img src="https://assets.codepen.io/605876/spotify.png" alt="" />
        <h2>Spotify Premium</h2>
      </div>
    </article>
    <article>
      <div>
        <button aria-label="More options">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <title>dots-horizontal</title>
            <path
              d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
          </svg>
        </button>
        <div class="img-container">
          <img src="https://assets.codepen.io/605876/photos.png" alt="" />
        </div>
        <img src="https://assets.codepen.io/605876/photos.png" alt="" />
        <h2>Photos</h2>
      </div>
    </article>
    <article>
      <div>
        <button aria-label="More options">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <title>dots-horizontal</title>
            <path
              d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
          </svg>
        </button>
        <div class="img-container">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Telegram_2019_Logo.svg/2048px-Telegram_2019_Logo.svg.png"
            alt="" />
        </div>
        <img
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Telegram_2019_Logo.svg/2048px-Telegram_2019_Logo.svg.png"
          alt="" />
        <h2>Telegram Premium</h2>
      </div>
    </article>
    <article>
      <div>
        <button aria-label="More options">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <title>dots-horizontal</title>
            <path
              d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
          </svg>
        </button>
        <div class="img-container">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Apple_Music_icon.svg/1200px-Apple_Music_icon.svg.png"
            alt="" />
        </div>
        <img
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Apple_Music_icon.svg/1200px-Apple_Music_icon.svg.png"
          alt="" />
        <h2>Apple Music</h2>
      </div>
    </article>
    <article>
      <div>
        <button aria-label="More options">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <title>dots-horizontal</title>
            <path
              d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
          </svg>
        </button>
        <div class="img-container">
          <img src="https://techshark.io/media/tool_logo/Claude_AI_Logo.png" alt="" />
        </div>
        <img src="https://techshark.io/media/tool_logo/Claude_AI_Logo.png" alt="" />
        <h2>Claude Pro</h2>
      </div>
    </article>
    <article>
      <div>
        <button aria-label="More options">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <title>dots-horizontal</title>
            <path
              d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" />
          </svg>
        </button>
        <div class="img-container">
          <img src="https://logo.wine/a/logo/Disney%2B/Disney%2B-White-Dark-Background-Logo.wine.svg" alt="" />
        </div>
        <img src="https://logo.wine/a/logo/Disney%2B/Disney%2B-White-Dark-Background-Logo.wine.svg" alt="" />
        <h2>Disney+</h2>
      </div>
    </article>
  </main>

  <svg class="sr-only" style="overflow: visible !important;" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <filter id="blur" width="500%" height="500%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="20" />
    </filter>
  </svg>

  <script type="module">
    const config = {
      theme: 'system',
      iconBlur: 28,
      iconSaturate: 5,
      iconBrightness: 1.3,
      iconContrast: 1.4,
      iconScale: 3.4,
      iconOpacity: 0.25,
      borderWidth: 3,
      borderBlur: 0,
      borderSaturate: 4.2,
      borderBrightness: 2.5,
      borderContrast: 2.5,
      exclude: false,
    }

    const update = () => {
      document.documentElement.dataset.theme = config.theme
      document.querySelector('filter#blur feGaussianBlur').setAttribute('stdDeviation', config.iconBlur)
      document.documentElement.style.setProperty('--icon-saturate', config.iconSaturate)
      document.documentElement.style.setProperty('--icon-brightness', config.iconBrightness)
      document.documentElement.style.setProperty('--icon-contrast', config.iconContrast)
      document.documentElement.style.setProperty('--icon-scale', config.iconScale)
      document.documentElement.style.setProperty('--icon-opacity', config.iconOpacity)
      document.documentElement.style.setProperty('--border-width', config.borderWidth)
      document.documentElement.style.setProperty('--border-blur', config.borderBlur)
      document.documentElement.style.setProperty('--border-saturate', config.borderSaturate)
      document.documentElement.style.setProperty('--border-brightness', config.borderBrightness)
      document.documentElement.style.setProperty('--border-contrast', config.borderContrast)
      document.documentElement.dataset.exclude = config.exclude
    }

    update()

    // Theme toggle functionality
    const themeToggle = document.getElementById('themeToggle')
    themeToggle.addEventListener('click', () => {
      if (config.theme === 'system') {
        config.theme = 'light'
      } else if (config.theme === 'light') {
        config.theme = 'dark'
      } else {
        config.theme = 'system'
      }
      update()
    })

    // Card pointer tracking logic
    const articles = document.querySelectorAll('article')

    document.addEventListener('pointermove', (event) => {
      articles.forEach((article) => {
        // Get the bounding rectangle of the article
        const rect = article.getBoundingClientRect()

        // Calculate center point of the article
        const centerX = rect.left + rect.width / 2
        const centerY = rect.top + rect.height / 2

        // Calculate pointer position relative to center
        const relativeX = event.clientX - centerX
        const relativeY = event.clientY - centerY

        // Normalize to -1 to 1 range (at card edges)
        const x = relativeX / (rect.width / 2)
        const y = relativeY / (rect.height / 2)

        // Update CSS custom properties for each article
        article.style.setProperty('--pointer-x', x.toFixed(3))
        article.style.setProperty('--pointer-y', y.toFixed(3))
      })
    })
  </script>
</body>

</html>